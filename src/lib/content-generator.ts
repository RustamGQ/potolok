import { City } from '../types/city';

// Шаблоны для генерации контента
const contentTemplates = {
  hero: {
    titles: [
      'Натяжные потолки {city} - Качественный монтаж от профессионалов',
      'Натяжные потолки в {city} - Современные решения для вашего дома',
      'Установка натяжных потолков {city} - Быстро, качественно, недорого',
      'Натяжные потолки {city} - Профессиональный монтаж с гарантией',
      'Натяжные потолки в {city} - Создаем уют и комфорт в вашем доме'
    ],
    descriptions: [
      'Профессиональная установка натяжных потолков в {city}. Бесплатный замер, качественный монтаж, гарантия 3 года. Более 1000 довольных клиентов в {city}.',
      'Натяжные потолки в {city} от опытных мастеров. Современные материалы, быстрый монтаж, доступные цены. Работаем по всему {city} и области.',
      'Установка натяжных потолков в {city} с гарантией качества. Бесплатный выезд мастера, точный расчет стоимости, профессиональный монтаж.',
      'Натяжные потолки {city} - ваш надежный партнер в создании идеального интерьера. Опыт работы более 10 лет, тысячи выполненных проектов.',
      'Качественные натяжные потолки в {city} по доступным ценам. Бесплатный замер, современные технологии, гарантия на все работы.'
    ]
  },
  
  about: {
    titles: [
      'О компании - Натяжные потолки {city}',
      'Почему выбирают нас - Натяжные потолки в {city}',
      'Наша команда - Профессиональные мастера {city}',
      'Опыт и качество - Натяжные потолки {city}',
      'Надежный партнер - Натяжные потолки в {city}'
    ],
    descriptions: [
      'Компания "Натяжные потолки {city}" - ваш надежный партнер в создании идеального интерьера. Более 10 лет опыта, тысячи выполненных проектов, гарантия качества на все работы.',
      'Мы специализируемся на установке натяжных потолков в {city} и области. Наша команда - это опытные мастера с многолетним стажем работы.',
      'Натяжные потолки в {city} от профессионалов своего дела. Мы используем только качественные материалы и современные технологии монтажа.',
      'Более 1000 довольных клиентов в {city} доверяют нам установку натяжных потолков. Наша репутация - это качество работы и внимание к деталям.',
      'Компания "Натяжные потолки {city}" предлагает полный спектр услуг по установке потолков. От замера до финальной отделки - все под ключ.'
    ]
  },

  services: {
    titles: [
      'Услуги - Натяжные потолки {city}',
      'Наши услуги - Установка потолков в {city}',
      'Сервис - Натяжные потолки {city}',
      'Что мы предлагаем - Натяжные потолки в {city}',
      'Полный спектр услуг - Натяжные потолки {city}'
    ],
    descriptions: [
      'Полный спектр услуг по установке натяжных потолков в {city}. Бесплатный замер, профессиональный монтаж, гарантийное обслуживание.',
      'Натяжные потолки в {city} - от замера до установки. Мы предлагаем комплексные решения для вашего интерьера.',
      'Услуги по установке натяжных потолков в {city} включают бесплатный выезд мастера, точный расчет стоимости и профессиональный монтаж.',
      'Комплексные услуги по натяжным потолкам в {city}. Работаем с любыми типами помещений и материалами.',
      'Натяжные потолки {city} - полный сервис под ключ. От консультации до финальной отделки помещения.'
    ]
  },

  catalog: {
    titles: [
      'Каталог потолков - Натяжные потолки {city}',
      'Виды потолков - Натяжные потолки в {city}',
      'Типы потолков - Натяжные потолки {city}',
      'Выбор потолков - Натяжные потолки в {city}',
      'Ассортимент - Натяжные потолки {city}'
    ],
    descriptions: [
      'Большой каталог натяжных потолков в {city}. Матовые, глянцевые, сатиновые, с подсветкой и многое другое. Выберите идеальный потолок для вашего интерьера.',
      'Разнообразие натяжных потолков в {city}. От классических белых до эксклюзивных дизайнерских решений. Поможем подобрать оптимальный вариант.',
      'Каталог натяжных потолков {city} включает более 25 различных типов. Матовые, глянцевые, фактурные, с фотопечатью и LED-подсветкой.',
      'Выбор натяжных потолков в {city} для любого стиля интерьера. Современные материалы, эксклюзивные решения, доступные цены.',
      'Ассортимент натяжных потолков {city} - от бюджетных до премиум решений. Консультация специалиста поможет сделать правильный выбор.'
    ]
  },

  works: {
    titles: [
      'Наши работы - Натяжные потолки {city}',
      'Портфолио - Натяжные потолки в {city}',
      'Примеры работ - Натяжные потолки {city}',
      'Галерея - Натяжные потолки в {city}',
      'Реализованные проекты - Натяжные потолки {city}'
    ],
    descriptions: [
      'Галерея выполненных работ по установке натяжных потолков в {city}. Более 1000 успешных проектов в различных стилях и типах помещений.',
      'Портфолио натяжных потолков {city} - реальные примеры наших работ. Квартиры, дома, офисы, коммерческие помещения.',
      'Примеры установки натяжных потолков в {city}. Фотографии до и после, различные типы потолков и стили интерьера.',
      'Галерея работ по натяжным потолкам {city}. Демонстрируем качество монтажа и разнообразие решений.',
      'Реализованные проекты натяжных потолков в {city}. От простых до сложных многоуровневых конструкций.'
    ]
  },

  reviews: {
    titles: [
      'Отзывы клиентов - Натяжные потолки {city}',
      'Мнения клиентов - Натяжные потолки в {city}',
      'Отзывы о работе - Натяжные потолки {city}',
      'Рекомендации - Натяжные потолки в {city}',
      'Что говорят клиенты - Натяжные потолки {city}'
    ],
    descriptions: [
      'Отзывы клиентов о натяжных потолках в {city}. Реальные мнения людей, которые доверили нам установку потолков в своих домах.',
      'Мнения клиентов о работе компании "Натяжные потолки {city}". Честные отзывы о качестве монтажа и сервисе.',
      'Отзывы о натяжных потолках {city} от наших клиентов. Узнайте, что говорят люди о качестве наших работ.',
      'Рекомендации клиентов натяжных потолков в {city}. Более 95% клиентов рекомендуют нас своим знакомым.',
      'Что говорят клиенты о натяжных потолках {city}. Реальные истории и впечатления от сотрудничества с нами.'
    ]
  },

  faq: {
    titles: [
      'Частые вопросы - Натяжные потолки {city}',
      'FAQ - Натяжные потолки в {city}',
      'Вопросы и ответы - Натяжные потолки {city}',
      'Популярные вопросы - Натяжные потолки в {city}',
      'Ответы на вопросы - Натяжные потолки {city}'
    ],
    descriptions: [
      'Ответы на частые вопросы о натяжных потолках в {city}. Все, что нужно знать о выборе, установке и уходе за потолками.',
      'FAQ по натяжным потолкам {city}. Ответы на самые популярные вопросы клиентов о материалах, монтаже и гарантии.',
      'Вопросы и ответы о натяжных потолках в {city}. Поможем разобраться во всех нюансах установки и эксплуатации.',
      'Популярные вопросы о натяжных потолках {city}. Информация о ценах, сроках, материалах и технологиях.',
      'Ответы на вопросы о натяжных потолках в {city}. Экспертные консультации по всем аспектам установки потолков.'
    ]
  }
};

// Генерация случайного элемента из массива
function getRandomElement<T>(array: T[]): T {
  return array[Math.floor(Math.random() * array.length)];
}

// Генерация уникального контента для города
export function generateCityContent(city: City) {
  const replaceCity = (text: string) => text.replace(/{city}/g, city.name);
  
  return {
    hero: {
      title: replaceCity(getRandomElement(contentTemplates.hero.titles)),
      description: replaceCity(getRandomElement(contentTemplates.hero.descriptions))
    },
    about: {
      title: replaceCity(getRandomElement(contentTemplates.about.titles)),
      description: replaceCity(getRandomElement(contentTemplates.about.descriptions))
    },
    services: {
      title: replaceCity(getRandomElement(contentTemplates.services.titles)),
      description: replaceCity(getRandomElement(contentTemplates.services.descriptions))
    },
    catalog: {
      title: replaceCity(getRandomElement(contentTemplates.catalog.titles)),
      description: replaceCity(getRandomElement(contentTemplates.catalog.descriptions))
    },
    works: {
      title: replaceCity(getRandomElement(contentTemplates.works.titles)),
      description: replaceCity(getRandomElement(contentTemplates.works.descriptions))
    },
    reviews: {
      title: replaceCity(getRandomElement(contentTemplates.reviews.titles)),
      description: replaceCity(getRandomElement(contentTemplates.reviews.descriptions))
    },
    faq: {
      title: replaceCity(getRandomElement(contentTemplates.faq.titles)),
      description: replaceCity(getRandomElement(contentTemplates.faq.descriptions))
    }
  };
}

// Генерация SEO мета-тегов для страниц
export function generateSEOMeta(city: City, page: string, customTitle?: string, customDescription?: string) {
  const baseTitle = customTitle || `${page} - Натяжные потолки ${city.name}`;
  const baseDescription = customDescription || `Профессиональная установка натяжных потолков в ${city.name}. ${page} от опытных мастеров. Бесплатный замер, качественный монтаж, гарантия.`;
  
  return {
    title: baseTitle,
    description: baseDescription,
    keywords: `натяжные потолки ${city.name}, установка потолков ${city.name}, потолки ${city.name}, монтаж потолков ${city.name}, ${page.toLowerCase()} ${city.name}`,
    openGraph: {
      title: baseTitle,
      description: baseDescription,
      url: `https://yourdomain.com/${city.slug}/${page.toLowerCase()}`,
      siteName: `Натяжные потолки ${city.name}`,
      locale: 'ru_RU',
      type: 'website'
    }
  };
}

// Генерация уникальных отзывов для города
export function generateCityReviews(city: City) {
  const reviewTemplates = [
    {
      name: 'Анна',
      rating: 5,
      text: `Отличная работа! Установили натяжные потолки в спальне и гостиной. Мастера работали аккуратно, быстро и качественно. В ${city.name} сложно найти таких профессионалов. Рекомендую!`
    },
    {
      name: 'Сергей',
      rating: 5,
      text: `Заказывал натяжные потолки в кухне и ванной. Результат превзошел ожидания. Материалы качественные, монтаж безупречный. Цена адекватная для ${city.name}. Спасибо за работу!`
    },
    {
      name: 'Елена',
      rating: 5,
      text: `Устанавливали потолки в детской комнате. Очень довольна результатом. Мастера учли все пожелания, работали чисто и быстро. В ${city.name} лучшие специалисты по потолкам!`
    },
    {
      name: 'Дмитрий',
      rating: 5,
      text: `Профессиональная команда! Установили потолки во всей квартире. Качество на высоте, сроки соблюдены. В ${city.name} рекомендую только эту компанию для натяжных потолков.`
    },
    {
      name: 'Мария',
      rating: 5,
      text: `Отличный сервис! Бесплатный замер, точный расчет, качественный монтаж. Потолки выглядят идеально. В ${city.name} лучшие цены и качество. Спасибо!`
    }
  ];

  return reviewTemplates.map(review => ({
    ...review,
    text: review.text.replace(/{city}/g, city.name)
  }));
}

// Генерация FAQ для города
export function generateCityFAQ(city: City) {
  const faqTemplates = [
    {
      question: `Сколько стоит установка натяжных потолков в ${city.name}?`,
      answer: `Стоимость установки натяжных потолков в ${city.name} зависит от площади помещения, типа материала и сложности монтажа. Базовые цены начинаются от 1200₽/м². Точную стоимость рассчитываем при бесплатном замере.`
    },
    {
      question: `Как долго устанавливаются натяжные потолки в ${city.name}?`,
      answer: `Время установки натяжных потолков в ${city.name} зависит от площади и сложности работ. Стандартная комната 15-20м² устанавливается за 3-4 часа. Многоуровневые конструкции могут занять 1-2 дня.`
    },
    {
      question: `Какие гарантии предоставляете на натяжные потолки в ${city.name}?`,
      answer: `На все натяжные потолки в ${city.name} предоставляем гарантию 3 года на материалы и 1 год на монтажные работы. Гарантия распространяется на весь ${city.name} и область.`
    },
    {
      question: `Работаете ли вы по всему ${city.name}?`,
      answer: `Да, мы работаем по всему ${city.name} и области. Выезжаем на замеры и установку в любые районы. Стоимость выезда уточняйте у менеджера.`
    },
    {
      question: `Можно ли установить натяжные потолки в ванной в ${city.name}?`,
      answer: `Конечно! Натяжные потолки в ванной - отличное решение. Используем влагостойкие материалы, которые идеально подходят для влажных помещений. В ${city.name} устанавливаем такие потолки регулярно.`
    }
  ];

  return faqTemplates;
}
